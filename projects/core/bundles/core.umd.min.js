!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common"),require("types"),require("moment")):"function"==typeof define&&define.amd?define("core",["exports","@angular/core","@angular/common","types","moment"],e):e((t=t||self).core={},t.ng.core,t.ng.common,t.types,t.moment)}(this,(function(t,e,r,n,o){"use strict";"default"in o&&o.default;
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function u(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var a=function(){return(a=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function f(t,e,r,n){var o,i=arguments.length,u=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(u=(i<3?o(u):i>3?o(e,r,u):o(e,r))||u);return i>3&&u&&Object.defineProperty(e,r,u),u}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function p(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),u=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return u}var s=function(){function t(){}return t.ngInjectableDef=e.ɵɵdefineInjectable({factory:function(){return new t},token:t,providedIn:"root"}),t=f([e.Injectable({providedIn:"root"}),c("design:paramtypes",[])],t)}(),l=function(){function t(){}return t.prototype.ngOnInit=function(){},t=f([e.Component({selector:"lib-core",template:"\n    <p>\n      core works!\n    </p>\n  "}),c("design:paramtypes",[])],t)}(),m=function(){function t(){}return t=f([e.NgModule({declarations:[l],imports:[],exports:[l]})],t)}(),y=function(){function t(){}return t.prototype.transform=function(t,e){Object.entries(n.dateTimeFormats).map((function(t){var e=p(t,2);e[0];return e[1]})),Object.entries(n.dateFormats).map((function(t){var e=p(t,2);e[0];return e[1]})),Object.entries(n.timeFormats).map((function(t){var e=p(t,2);e[0];return e[1]}));return null},t=f([e.Pipe({name:"isDate"})],t)}(),d=function(t){return!isNaN(+t)},h=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return u(r,t),r.prototype.transform=function(e){return d(e)?t.prototype.transform.call(this,e):e||""},r=f([e.Pipe({name:"phNumber"})],r)}(r.DecimalPipe),v=function(){function t(){}return t.prototype.transform=function(t,e){return null},t=f([e.Pipe({name:"timespan"})],t)}(),g=function(){function t(){}return t.prototype.transform=function(t,e){return"object"==typeof t&&Array.isArray(t)},t=f([e.Pipe({name:"isArray"})],t)}(),b=function(){function t(){}return t.prototype.transform=function(t,e){var r=parseInt(t,10);if(!r&&0!==r)return t;var o=Math.floor(r/1e3%60),i=Math.floor(r/6e4%60),u=Math.floor(r/36e5),a=u<10?"0"+u:u,f=i<10?"0"+i:i,c=o<10?"0"+o:o;return e===n.timeFormats.HHmm?a+":"+f:a+":"+f+":"+c},t=f([e.Pipe({name:"timeSpan"})],t)}(),j=function(t,e){if(!t[e=e||0])throw new Error("enum value not exists:\n         "+JSON.stringify(t)+" with value:"+e+"}");return O(t[e])},P=/([a-z])([A-Z])/g,O=function(t){return t?t.toString().replace(P,"$1 $2"):t||""},x=function(){function t(){}return t.prototype.transform=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return j(e[0],t)},t=f([e.Pipe({name:"enumToString"})],t)}(),M=function(){function t(){}return t.prototype.transform=function(t,e){return null},t=f([e.Pipe({name:"enumLabelValueList"})],t)}(),I=function(){function t(){}return t.prototype.transform=function(t,e){return"object"!=typeof t&&!Array.isArray(t)},t=f([e.Pipe({name:"isText"})],t)}(),N=function(){function t(){}return t.prototype.transform=function(t,e){return"object"==typeof t&&!Array.isArray(t)},t=f([e.Pipe({name:"isObject"})],t)}(),S=function(t){return!(!/[0-9]{1,2}[/.-][0-9]{1,2}[/.-][1-9][0-9]{1,3}/.test(t)&&!/[1-9][0-9]{1,3}[/.-][0-9]{1,2}[/.-][0-9]{1,2}/.test(t))&&!isNaN(Date.parse(t))},D=o,w=function(t){function r(){var e=null!==t&&t.apply(this,arguments)||this;return e.regexFormats=[/[0-9]{4}[-/][0-9]{2}[-/][0-9]{2}/,/[0-9]{2}[-/][0-9]{2}[-/][0-9]{4}/],e}return u(r,t),r.prototype.dateIsValidByMoment=function(t){return D(t).isValid()},r.prototype.dateByMoment=function(t,e){return D(t).format(e)},r.prototype.transform=function(e,r){if(!e)return e;if(this.dateIsValidByMoment(e))return this.dateByMoment(e,r);if(this.regexFormats.some((function(t){return t.test(e)})))return t.prototype.transform.call(this,e,r);if(S(e)){var n=t.prototype.transform.call(this,t.prototype.transform.call(this,e,r),r);return e.indexOf(n)>=0?n:t.prototype.transform.call(this,e,r)}return e},r=f([e.Pipe({name:"myDate"})],r)}(r.DatePipe),A=function(t){function r(){var e=null!==t&&t.apply(this,arguments)||this;return e.regexFormat=[/[0-9]{4}[-/][0-9]{2}[-/][0-9]{2}/,/[0-9]{2}[-/][0-9]{2}[-/][0-9]{4}/],e}return u(r,t),r.prototype.dateIsValidByMoment=function(t){return null},r.prototype.dateByMoment=function(t,e){return null},r.prototype.transform=function(e,r){if(!e)return e;if(this.dateIsValidByMoment(e))return this.dateByMoment(e,r);if(this.regexFormat.some((function(t){return t.test(e)})))return t.prototype.transform.call(this,e,r);if(S(e)){var n=t.prototype.transform.call(this,t.prototype.transform.call(this,e,r),r);return e.indexOf(n)>=0?n:t.prototype.transform.call(this,e,r)}return e},r=f([e.Pipe({name:"myDateTime"})],r)}(r.DatePipe),B=function(t){function r(){var e=null!==t&&t.apply(this,arguments)||this;return e.regexFormat=[/[0-9]{4}[-/][0-9]{2}[-/][0-9]{2}/,/[0-9]{2}[-/][0-9]{2}[-/][0-9]{4}/],e}return u(r,t),r.prototype.dateIsValidByMoment=function(t){return null},r.prototype.dateByMoment=function(t,e){return null},r.prototype.transform=function(e,r){if(!e)return e;if(this.dateIsValidByMoment(e))return this.dateByMoment(e,r);if(this.regexFormat.some((function(t){return t.test(e)})))return t.prototype.transform.call(this,e,r);if(S(e)){var n=t.prototype.transform.call(this,t.prototype.transform.call(this,e,r),r);return e.indexOf(n)>=0?n:t.prototype.transform.call(this,e,r)}return e},r=f([e.Pipe({name:"myTime"})],r)}(r.DatePipe),F=function(){function t(){}return t=f([e.NgModule({declarations:[y,h,w,v,A,B,g,b,x,M,I,N],imports:[r.CommonModule],exports:[y,h,w,v,A,B,g,b,x,M,I,N]})],t)}(),T=function(){function t(){}return t.prototype.intercept=function(t,e){t.clone({url:window.location.origin+"/"+t.url});return/[^:]\/\//.test(t.url)&&(t=t.clone({url:t.url.replace(/([^:])\/\//g,"$1/")})),/http/.test(t.url)||/^\./.test(t.url)||(t=t.clone({url:t.url.replace(/(api\/)+/gm,"api/")})),e.handle(t)},t=f([e.Injectable()],t)}(),C=new e.InjectionToken("environment"),_=function(t){return(Number(t.toFixed(2))/1).toString()},V=function(t){return Array.isArray(t)?t.map((function(t){return V(t)})):Object.entries(t).reduce((function(t,e){var r,n=p(e,2),o=n[0],i=n[1];return a({},t,((r={})[R(o)]="object"==typeof i?V(i):i,r))}))},R=function(t){return"string"!=typeof t?t:t.split("").map((function(t,e){return 0===e?t.toUpperCase():t})).join()};t.CoreComponent=l,t.CoreModule=m,t.CoreService=s,t.EnvironmentTOKEN=C,t.PipesModule=F,t.WebApiHttpInterceptor=T,t._formatNumString=_,t.camelCaseRegex=P,t.camelCaseToSplitString=O,t.enumToSelectItems=function(t){return Object.entries(t).slice(0,Object.keys(t).length/2).map((function(t){var e=p(t,2),r=e[0],n=e[1];return{label:O(n),value:r}})).map((function(t){return a({},t,{value:isNaN(+t.value)?t.value:+t.value})}))||[]},t.enumValueToString=j,t.fileNameFromfullPath=function(t){return t&&t.replace(/^.*[\\\/]/,"")||""},t.formatNumAsMetricPrefix=function(t){for(var e=[{divider:1e18,suffix:"P"},{divider:1e15,suffix:"E"},{divider:1e12,suffix:"T"},{divider:1e9,suffix:"G"},{divider:1e6,suffix:"M"},{divider:1e3,suffix:"K"}],r=0;r<e.length;r++)if(t>=e[r].divider)return _(t/e[r].divider)+e[r].suffix;return _(t)},t.jsonIsEmpty=function(t){try{var e=JSON.parse(t);return!Object.keys(e).length}catch(t){}return!1},t.sortDateTime=function(t,e){return Date.parse(t)-Date.parse(e)},t.stringIsDate=S,t.stringIsJson=function(t){try{var e=JSON.parse(t);return!!e&&"object"==typeof e}catch(t){}return!1},t.stringIsNumber=d,t.toPascalCase=R,t.toPascalCaseRec=V,t.tryParseJson=function(t){try{return JSON.parse(t)}catch(t){return null}},t.ɵa=y,t.ɵb=h,t.ɵc=w,t.ɵd=v,t.ɵe=A,t.ɵf=B,t.ɵg=g,t.ɵh=b,t.ɵi=x,t.ɵj=M,t.ɵk=I,t.ɵl=N,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=core.umd.min.js.map